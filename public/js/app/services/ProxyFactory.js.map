{"version":3,"sources":["../../app-es6/services/ProxyFactory.js"],"names":["ProxyFactory","Error","model","props","callback","Proxy","get","target","prop","receiver","includes","_isFunction","result","Reflect","apply","arguments","set","value","Function"],"mappings":";;;;;;;;IAAMA,Y;AAEL,yBAAc;AAAA;;AAAE,QAAM,IAAIC,KAAJ,CAAU,iDAAV,CAAN;AAAoE;;;;yBAEtEC,K,EAAOC,K,EAAOC,Q,EAAU;AACrC,UAAO,IAAIC,KAAJ,CAAUH,KAAV,EAAiB;AACvBI,SAAK,aAACC,MAAD,EAASC,IAAT,EAAeC,QAAf,EAA4B;AAChC;AACA,SAAGN,MAAMO,QAAN,CAAeF,IAAf,KAAwBR,aAAaW,WAAb,CAAyBJ,MAAzB,EAAiCC,IAAjC,CAA3B,EAAmE;AAClE,aAAO,YAAW;AACjB;AACA,WAAII,SAASC,QAAQC,KAAR,CAAcP,OAAOC,IAAP,CAAd,EAA4BD,MAA5B,EAAoCQ,SAApC,CAAb;AACAX,kBAHiB,CAGN;AACX,cAAOQ,MAAP,CAJiB,CAIH;AACd,OALD;AAMA;AACD,YAAOC,QAAQP,GAAR,CAAYC,MAAZ,EAAoBC,IAApB,EAA0BC,QAA1B,CAAP;AACA,KAZsB;AAavBO,SAAK,aAACT,MAAD,EAASC,IAAT,EAAeS,KAAf,EAAsBR,QAAtB,EAAmC;AACvC,SAAIG,SAASC,QAAQG,GAAR,CAAYT,MAAZ,EAAoBC,IAApB,EAA0BS,KAA1B,EAAiCR,QAAjC,CAAb;AACA,SAAGN,MAAMO,QAAN,CAAeF,IAAf,CAAH,EAAyBJ;AACzB,YAAOQ,MAAP;AACA;AAjBsB,IAAjB,CAAP;AAmBA;;AAED;;;;8BACmBL,M,EAAQC,I,EAAM;AAChC,UAAO,QAAOD,OAAOC,IAAP,CAAP,cAAgCU,QAAhC,yCAAgCA,QAAhC,EAAP;AACA","file":"ProxyFactory.js","sourcesContent":["class ProxyFactory {\r\n\r\n\tconstructor() { throw new Error(\"ProxyFactory is static and can't be instancied.\") }\r\n\r\n\tstatic create(model, props, callback) {\r\n\t\treturn new Proxy(model, {\r\n\t\t\tget: (target, prop, receiver) => {\r\n\t\t\t\t/* if prop is a prop that changes the view */\r\n\t\t\t\tif(props.includes(prop) && ProxyFactory._isFunction(target, prop)) {\r\n\t\t\t\t\treturn function() {\r\n\t\t\t\t\t\t/* arguments is auto injected in function() {}; changing its state */\r\n\t\t\t\t\t\tlet result = Reflect.apply(target[prop], target, arguments)\r\n\t\t\t\t\t\tcallback() // updating the view\r\n\t\t\t\t\t\treturn result // returning model state\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn Reflect.get(target, prop, receiver)\r\n\t\t\t},\r\n\t\t\tset: (target, prop, value, receiver) => {\r\n\t\t\t\tlet result = Reflect.set(target, prop, value, receiver)\r\n\t\t\t\tif(props.includes(prop)) callback()\r\n\t\t\t\treturn result\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t/* verify if the target's prop is a function */\r\n\tstatic _isFunction(target, prop) {\r\n\t\treturn typeof(target[prop]) === typeof(Function)\r\n\t}\r\n\r\n}\r\n"]}